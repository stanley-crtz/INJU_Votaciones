(this["webpackJsonpinju-votaciones"]=this["webpackJsonpinju-votaciones"]||[]).push([[0],{106:function(e,t,n){},254:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),c=n(98),i=n.n(c),o=(n(106),n(19)),s=n(3),u=n(28),d=n(31),j=n(8),f=function(){var e=Object(r.useState)({value:"",correcto:!1}),t=Object(j.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"card-login animate__animated animate__backInDown",children:[n.correcto&&Object(a.jsx)(s.a,{to:"/Configuraciones"}),Object(a.jsx)("h1",{children:"Sistema de Votaciones INJU"}),Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),"Stanley2021"===n.value?c(Object(d.a)(Object(d.a)({},n),{},Object(u.a)({},"correcto",!0))):alert("Contrase\xf1a incorrecta")},children:Object(a.jsx)("input",{type:"password",value:n.value,placeholder:"Password",onChange:function(e){return c(Object(d.a)(Object(d.a)({},n),{},Object(u.a)({},"value",e.target.value)))}})}),Object(a.jsx)(o.b,{to:"/Votaciones",children:"Votar"})]})},l=function(){return Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"INJU"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(o.c,{to:"/Configuraciones/Registro",activeClassName:"active",children:"Registro"})}),Object(a.jsx)("li",{children:Object(a.jsx)(o.c,{to:"/Configuraciones/Estadisticas",children:"Estadisticas"})})]})]})},b=n(2),O=n.n(b),p=n(30),v=n(4),h=n(32),m=n.n(h),x=function(){var e=Object(v.a)(O.a.mark((function e(t,n){var a,r,c,i=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=i.length>2&&void 0!==i[2]?i[2]:{},r=i.length>3&&void 0!==i[3]?i[3]:{},e.t0=n,e.next="POST"===e.t0?5:"PUT"===e.t0?9:"GET"===e.t0?13:"DELETE"===e.t0?17:21;break;case 5:return e.next=7,m.a.post(t,a);case 7:return c=e.sent,e.abrupt("break",21);case 9:return e.next=11,m.a.put(t,a);case 11:return c=e.sent,e.abrupt("break",21);case 13:return e.next=15,m.a.get(t,{params:r});case 15:return c=e.sent,e.abrupt("break",21);case 17:return e.next=19,m.a.delete(t,{params:r});case 19:return c=e.sent,e.abrupt("break",21);case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=n(6),R=n.n(g),E=n(100),w=function(e){var t=e.data,n=Object(r.useState)({labels:[],datasets:[{label:"Votaciones INJU",backgroundColor:"rgba(255,255,255,0.5)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:[]}]}),c=Object(j.a)(n,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){var e={labels:t.labels,datasets:[{label:"Votaciones INJU",backgroundColor:"rgba(255,255,255,0.5)",borderColor:"rgba(255,99,132,1)",borderWidth:1,hoverBackgroundColor:"rgba(255,99,132,0.4)",hoverBorderColor:"rgba(255,99,132,1)",data:t.votes}]};o(e)}),[t]),Object(a.jsx)(E.Bar,{data:i,width:100,height:50,options:{maintainAspectRatio:!1}})},C=function(){var e=Object(r.useState)({labels:[],votes:[]}),t=Object(j.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(v.a)(O.a.mark((function e(){var t,n,a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("http://localhost:3900/getCandidatos","GET",{});case 2:t=e.sent,n=t.data.docs,a=n.reduce((function(e,t){return[].concat(Object(p.a)(e),[t.Nombre])}),[]),r=n.reduce((function(e,t){return[].concat(Object(p.a)(e),[t.votos])}),[]),c({labels:a,votes:r});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){i()}));var o=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://inju-votaciones.herokuapp.com/resetCandidato","PUT",{});case 2:R.a.fire("Reinicio exitoso","","success");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{id:"Reset",onClick:o,children:"Reset"}),Object(a.jsx)(w,{data:n})]})},B="data:image/png;base64,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",Y=function(){var e=Object(v.a)(O.a.mark((function e(t){var n,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://inju-votaciones.herokuapp.com/saveImage",{method:"POST",body:t});case 2:return n=e.sent,a=n.json(),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t=e.candidatos,n=e.update,c=e.erase,i=Object(r.useState)(""),o=Object(j.a)(i,2),s=o[0],u=o[1];Object(r.useEffect)((function(){n[0]&&(console.log(n),u(n[0].Nombre),document.querySelector("#preview").src=n[0].Imagen.ruta)}),[n[0]]);var d=function(){var e=Object(v.a)(O.a.mark((function e(n){var a,r,c,i,o,u,d,j,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),R.a.fire({title:"Registrando Docente...",allowOutsideClick:!1,onBeforeOpen:function(){R.a.showLoading()}}),a=document.querySelector("#archive"),r=a.files[0],(c=new FormData).append("file0",r,r.name),e.next=8,Y(c);case 8:return i=e.sent,o=i.image,u=o.public_id,d=o.secure_url,j={Nombre:s,Imagen:{public_id:u,ruta:d}},console.log(j),e.next=16,x("https://inju-votaciones.herokuapp.com/saveCandidato","POST",j);case 16:l=e.sent,l.data,t((function(e){return[].concat(Object(p.a)(e),[j])})),f(),R.a.close();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){u(""),document.querySelector("#preview").src=B},l=function(){var e=Object(v.a)(O.a.mark((function e(t){var a,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),R.a.fire({title:"Registrando Docente...",allowOutsideClick:!1,showConfirmButton:!1,onBeforeOpen:function(){R.a.showLoading()}}),a={info:{Nombre:s,Imagen:{public_id:n[0].Imagen.public_id,ruta:n[0].Imagen.ruta}},id:n[0]._id},e.next=5,x("https://inju-votaciones.herokuapp.com/updateCandidato","PUT",a);case 5:r=e.sent,r.data,n[1](),c(null),f(),R.a.close();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("form",{onSubmit:null==n[0]?d:l,children:[Object(a.jsx)("h2",{children:"Registro"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{children:"Ingrese el nombre del candidato."}),Object(a.jsx)("input",{type:"text",value:s,placeholder:"Nombre",onChange:function(e){return u(e.target.value)}}),Object(a.jsxs)("div",{className:"container-imagen-selected",children:[Object(a.jsx)("img",{id:"preview",src:B,alt:"Seleccione una imagen"}),Object(a.jsxs)("div",{className:"info",children:[Object(a.jsx)("p",{children:"Seleccione la foto del candidato"}),Object(a.jsx)("input",{id:"archive",type:"file",onChange:function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(){document.querySelector("#preview").src=t.result}}})]})]}),Object(a.jsx)("input",{type:"submit",value:"Guardar"})]})]})},k=function(e){var t=e.data,n=e.get,r=e.update,c=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://inju-votaciones.herokuapp.com/deleteCandidato","DELETE",{},{id:t._id});case 2:R.a.fire("\xa1Candidato eliminado!","Tu candidato a sido eliminado","success"),n();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"itemCandidatos",children:[Object(a.jsx)("img",{src:t.Imagen.ruta}),Object(a.jsxs)("div",{className:"itemCandidatos-info",children:[Object(a.jsxs)("p",{children:["Nombre: ",t.Nombre]}),Object(a.jsxs)("div",{className:"button-item",children:[Object(a.jsx)("input",{id:"modi",type:"button",value:"Modificar",onClick:function(){return r(t)}}),Object(a.jsx)("input",{id:"dele",type:"button",value:"Eliminar",onClick:function(){R.a.fire({title:"\xbfDesea eliminar este candidato?",text:"Una vez borrado no podra ser recuperado",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Confirmar",cancelButtonText:"Cancelar"}).then(function(){var e=Object(v.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&c();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}})]})]})]})},D=function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(null),o=Object(j.a)(i,2),s=o[0],u=o[1],d=function(){var e=Object(v.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://inju-votaciones.herokuapp.com/getCandidatos","GET",{});case 2:t=e.sent,n=t.data.docs,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d()}),[]),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(H,{candidatos:c,update:[s,d],erase:u}),Object(a.jsx)("div",{className:"list",children:n.map((function(e){return Object(a.jsx)(k,{data:e,get:d,update:u},e._id)}))})]})},N=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(l,{}),Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{exact:!0,path:"/Configuraciones",children:Object(a.jsx)(s.a,{to:"/Configuraciones/Estadisticas"})}),Object(a.jsx)(s.b,{path:"/Configuraciones/Registro",children:Object(a.jsx)(D,{})}),Object(a.jsx)(s.b,{path:"/Configuraciones/Estadisticas",children:Object(a.jsx)(C,{})})]})]})})},T=(n(223),n.p+"static/media/audio.b700f2a1.mp3"),A=function(e){var t=e.data,n=(e.socket,Object(r.useRef)(null)),c=function(){var e=Object(v.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.current.play(),e.next=3,x("https://inju-votaciones.herokuapp.com/sumCandidato","PUT",{id:t._id});case 3:R.a.fire("Votacion Exitosa","Su voto a sido registrado","success");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"itemCandidatos max",onClick:c,children:[Object(a.jsx)("img",{src:t.Imagen.ruta}),Object(a.jsx)("audio",{src:T,ref:n}),Object(a.jsx)("div",{className:"itemVotaciones-info",children:Object(a.jsx)("h2",{children:t.Nombre})})]})},M=(n(224),function(){var e=Object(r.useState)([]),t=Object(j.a)(e,2),n=t[0],c=t[1],i=function(){var e=Object(v.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x("https://inju-votaciones.herokuapp.com/getCandidatos","GET",{});case 2:t=e.sent,n=t.data.docs,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){i()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{id:"titulo",children:"Sistema de votaciones INJU"}),Object(a.jsx)("div",{className:"container-votaciones",children:n.map((function(e){return Object(a.jsx)(A,{data:e},e._id)}))})]})}),y=function(){return Object(a.jsx)(o.a,{children:Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{exact:!0,path:"/",children:Object(a.jsx)(f,{})}),Object(a.jsx)(s.b,{path:"/Configuraciones",children:Object(a.jsx)(N,{})}),Object(a.jsx)(s.b,{path:"/Votaciones",children:Object(a.jsx)(M,{})})]})})},J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,255)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};i.a.render(Object(a.jsx)(y,{}),document.getElementById("root")),J()}},[[254,1,2]]]);
//# sourceMappingURL=main.c6ac66f5.chunk.js.map